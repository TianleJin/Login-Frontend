<div class="wrapper">
    <form class="form-register" [formGroup]="registrationForm" (ngSubmit)="onSubmit()">
        <h2 class="form-register-heading">Register</h2> 
        <div class="form-group">
            <label for="firstName">First Name</label>
            <input type="text" class="form-control" formControlName="firstName" id="firstName" aria-describedby="firstName" required>
        </div>
        <div *ngIf="firstName.invalid && (firstName.dirty || firstName.touched)" class="alert alert-danger">
            <div *ngIf="firstName.errors.required">
                First Name is required.
            </div>
        </div>
        <div class="form-group">
            <label for="lastName">Last Name</label>
            <input type="text" class="form-control" formControlName="lastName" id="lastName" aria-describedby="lastName" required>
        </div>
        <div *ngIf="lastName.invalid && (lastName.dirty || lastName.touched)" class="alert alert-danger">
            <div *ngIf="lastName.errors.required">
                Last Name is required.
            </div>
        </div>
        <div class="form-group">
            <label for="phone">Phone Number</label>
            <input type="tel" class="form-control" formControlName="phone" id="phone" aria-describedby="phone" placeholder="1234-456-789" required>
        </div>
        <div *ngIf="phone.invalid && (phone.dirty || phone.touched)" class="alert alert-danger">
            <div *ngIf="phone.errors.required">
                Phone Number is required.
            </div>
        </div>
        <div class="form-group">
          <label for="userName">Username</label>
          <div>
            <input type="text" class="form-control" formControlName="userName" id="userName" aria-describedby="userName" required>
            <span *ngIf="userName.pending" class="spinner-border spinner-border-sm"></span>
          </div>
        </div>
        <div *ngIf="userName.invalid && (userName.dirty || userName.touched)" class="alert alert-danger">
            <div *ngIf="userName.errors.required">
                Username is required.
            </div>
            <div *ngIf="userName.errors.usernameTaken">
                This username has already been taken.
            </div>
        </div>
        <div class="form-group">
          <label for="password">Password</label>
          <input type="password" formControlName="password" class="form-control" id="password" minlength="8" required>
        </div>
        <div *ngIf="password.invalid && (password.dirty || password.touched)" class="alert alert-danger">
            <div *ngIf="password.errors.required">
                Password is required.
            </div>
            <div *ngIf="password.errors.minlength">
                Password needs at least 8 characters.
            </div>
        </div>
        <div class="form-group">
            <label for="confirmPassword">Confirm Password</label>
            <input type="password" formControlName="confirmPassword" class="form-control" id="confirmPassword" required>
        </div>
        <div *ngIf="confirmPassword.invalid && (confirmPassword.dirty || confirmPassword.touched)" class="alert alert-danger">
            <div *ngIf="confirmPassword.errors.required">
                Confirm Password is required.
            </div>
        </div>
        <div *ngIf="!confirmPassword.invalid && registrationForm.errors?.passwordMismatch && (confirmPassword.dirty || confirmPassword.touched)" class="alert alert-danger">
            Passwords do not match.
        </div>
        <button type="submit" class="btn btn-primary full-width">Sign Up</button>
        <small id="emailHelp" class="form-text">Already got an account? Log in <a [routerLink]="['/login']">here</a></small>
    </form>
</div>
